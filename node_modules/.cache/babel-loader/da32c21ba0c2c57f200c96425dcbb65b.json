{"ast":null,"code":"var _jsxFileName = \"/Users/Arthur/Documents/UC Davis Class Repo/Animal-Adoption-Database/animal-adoption-database/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Route, Link, Switch, Router } from 'react-router-dom';\nimport { BrowserRouter } from 'react-router-dom'; // compoonents\n\nimport Search from './components/Search/Search';\nimport HeaderNav from './components/Header/HeaderNav';\nimport BodyNoLogin from './components/BodyNoLogin/BodyNoLogin';\nimport savedAnimals from './components/savedAnimals/savedAnimals';\nimport Footer from './components/Footer/Footer';\nimport Signup from './components/signup/sign-up';\nimport LoginForm from './components/login-form/login-form';\nimport API from './utils/API';\nimport \"./App.css\";\nimport 'bulma/css/bulma.min.css';\nimport SearchContext from './utils/SearchContext'; //import {Passport} from '../server/passport/index';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [searchState, setSearchState] = useState({\n    searchTerm: \"\",\n    speciesSearch: \"dog\",\n    zipCode: \"\",\n    searchResults: []\n  });\n\n  function setResults(data) {\n    setSearchState({ ...searchState,\n      searchResults: Object.values(data)\n    });\n    console.log(data);\n  }\n\n  function setSearchSpeciesCat() {\n    setSearchState({ ...searchState,\n      speciesSearch: \"cat\"\n    });\n  }\n\n  function setSearchSpeciesDog() {\n    setSearchState({ ...searchState,\n      speciesSearch: \"dog\"\n    });\n  }\n\n  const [userState, setUserState] = useState({\n    loggedIn: false,\n    username: \"test\"\n  });\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  function updateUser(userObject) {\n    console.log(userObject);\n    setUserState({\n      loggedIn: false,\n      username: \"\"\n    });\n  }\n\n  function getUser() {\n    axios.get('api/user/').then(response => {\n      console.log('Get user response: ');\n      console.log(response.data);\n\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ');\n        setUserState({\n          loggedIn: true,\n          username: response.data.user.username\n        });\n      } else {\n        console.log('Get user: no user');\n        setUserState({\n          loggedIn: false,\n          username: null\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(SearchContext.Provider, {\n            value: searchState,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"App container\",\n              children: /*#__PURE__*/_jsxDEV(\"header\", {\n                className: \"App-header\",\n                children: [/*#__PURE__*/_jsxDEV(HeaderNav, {\n                  updateUser: updateUser,\n                  username: userState.username,\n                  loggedIn: userState.loggedIn\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Search, {\n                  setResults: setResults,\n                  setSearchSpeciesCat: setSearchSpeciesCat,\n                  setSearchSpeciesDog: setSearchSpeciesDog\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(BodyNoLogin, {\n                  loggedIn: userState.loggedIn\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          render: () => /*#__PURE__*/_jsxDEV(Signup, {\n            updateUser: updateUser,\n            username: userState.username,\n            loggedIn: userState.loggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          render: () => /*#__PURE__*/_jsxDEV(LoginForm, {\n            updateUser: updateUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/savedAnimals\",\n          render: () => /*#__PURE__*/_jsxDEV(\"savedAnimals\", {\n            loggedIn: userState.loggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"QTFClEt3IxPhff47qOiTaHG5tsI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/Arthur/Documents/UC Davis Class Repo/Animal-Adoption-Database/animal-adoption-database/src/App.js"],"names":["React","Component","useEffect","useState","axios","Route","Link","Switch","Router","BrowserRouter","Search","HeaderNav","BodyNoLogin","savedAnimals","Footer","Signup","LoginForm","API","SearchContext","App","searchState","setSearchState","searchTerm","speciesSearch","zipCode","searchResults","setResults","data","Object","values","console","log","setSearchSpeciesCat","setSearchSpeciesDog","userState","setUserState","loggedIn","username","getUser","updateUser","userObject","get","then","response","user"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from 'react';\nimport axios from 'axios'\nimport { Route, Link, Switch, Router } from 'react-router-dom'\nimport { BrowserRouter } from 'react-router-dom'\n// compoonents\nimport Search from './components/Search/Search';\nimport HeaderNav from './components/Header/HeaderNav';\nimport BodyNoLogin from './components/BodyNoLogin/BodyNoLogin';\nimport savedAnimals from './components/savedAnimals/savedAnimals';\nimport Footer from './components/Footer/Footer';\nimport Signup from './components/signup/sign-up'\nimport LoginForm from './components/login-form/login-form'\nimport API from './utils/API'\nimport \"./App.css\";\nimport 'bulma/css/bulma.min.css';\nimport SearchContext from './utils/SearchContext';\n//import {Passport} from '../server/passport/index';\n\nfunction App() {\n  const [searchState, setSearchState] = useState({\n    searchTerm: \"\",\n    speciesSearch: \"dog\",\n    zipCode: \"\",\n    searchResults: []\n  });\n\n  function setResults(data) {\n    setSearchState({\n      ...searchState,\n      searchResults: Object.values(data)\n    })\n    console.log(data)\n  }\n\n  function setSearchSpeciesCat() {\n    setSearchState({\n      ...searchState,\n      speciesSearch: \"cat\"\n    })\n  }\n\n  function setSearchSpeciesDog() {\n    setSearchState({\n      ...searchState,\n      speciesSearch: \"dog\"\n    })\n  }\n\n  const [userState, setUserState] = useState({\n    loggedIn: false,\n    username: \"test\"\n  });\n\n  useEffect(() => {\n    getUser()\n  }, []);\n\n  function updateUser(userObject) {   \n    console.log(userObject);\n    setUserState({\n      loggedIn: false,\n      username: \"\"\n    })\n  }\n\n  function getUser() {\n    axios.get('api/user/').then(response => {\n      console.log('Get user response: ')\n      console.log(response.data)\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ')\n\n        setUserState({\n          loggedIn: true,\n          username: response.data.user.username\n        })\n      } else {\n        console.log('Get user: no user');\n        setUserState({\n          loggedIn: false,\n          username: null\n        })\n      }\n    })\n  }\n\n  return (\n    <BrowserRouter>\n      <div>\n        <Switch>\n          <Route exact path=\"/\">\n            <SearchContext.Provider value={searchState}>\n              <div className=\"App container\">\n                <header className=\"App-header\">\n                  <HeaderNav updateUser={updateUser}\n                  username={userState.username}\n                  loggedIn={userState.loggedIn}/>\n                  <Search setResults={setResults} setSearchSpeciesCat={setSearchSpeciesCat} setSearchSpeciesDog={setSearchSpeciesDog}/>\n                  <BodyNoLogin loggedIn={userState.loggedIn}/>\n                  <Footer />\n                </header>\n              </div>\n            </SearchContext.Provider>\n          </Route>\n          <Route\n            path=\"/signup\"\n            render={() =>\n              <Signup\n              updateUser={updateUser}\n              username={userState.username}\n              loggedIn={userState.loggedIn}\n              />}\n          />\n          <Route\n            path=\"/login\"\n            render={() =>\n              <LoginForm\n                updateUser={updateUser}\n              />}\n          />\n          <Route\n            path=\"/savedAnimals\"\n            render={() =>\n              <savedAnimals\n                loggedIn= {userState.loggedIn}\n              />}\n          />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}